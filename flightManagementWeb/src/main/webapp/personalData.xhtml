<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="templates/template.xhtml">

	<ui:define name="content">


		<h:commandButton value=" #{msg['personal.edit']}"
			rendered="#{personalDataBean.editButton}"
			actionListener="#{personalDataBean.disableEditButton}"
			immediate="true" />

		<h:commandButton value=" #{msg['personal.cancel']}"
			rendered="#{personalDataBean.cancelButton}"
			actionListener="#{personalDataBean.enableEditButton}"
			immediate="true" />
		<h:form>
			<center>
				<h:outputText value=" #{personalDataBean.user.type} -" />
				<h:outputText value=" #{personalDataBean.user.firstName} " />
				<h:outputText value=" #{personalDataBean.user.lastName} -" />
				<h:outputText value=" #{msg['personal.personalData']}" />
				<p:defaultCommand target="confirm" />
				<p></p>
				<h:outputText
					value=" #{msg['personal.employer']} - #{personalDataBean.user.company.companyName}" />
				<p></p>
				<p:panelGrid columns="2">

					<p:outputLabel for="firstName"
						value=" #{msg['personal.firstName']}" />
					<p:inputText id="firstName"
						value="#{personalDataBean.user.firstName}"
						disabled="#{personalDataBean.editDisabled}" required="true">
						<f:validator validatorId="firstNameValidator" />
					</p:inputText>

					<p:outputLabel for="lastName" value=" #{msg['personal.lastName']}" />
					<p:inputText id="lastName"
						value="#{personalDataBean.user.lastName}"
						disabled="#{personalDataBean.editDisabled}" required="true">
						<f:validator validatorId="lastNameValidator" />
					</p:inputText>

					<p:outputLabel for="userName" value=" #{msg['personal.userName']}" />
					<p:inputText id="userName"
						value="#{personalDataBean.user.userName}"
						disabled="#{personalDataBean.editDisabled}" required="true">
						<f:validator validatorId="userValidator" />
					</p:inputText>

					<p:outputLabel for="newPassword"
						value=" #{msg['personal.newPassword']}" />
					<p:password id="newPassword" value="#{personalDataBean.password1}"
						disabled="#{personalDataBean.editDisabled}">
						<f:validator validatorId="newPasswordValidator" />
					</p:password>

					<p:outputLabel for="cNewPassword"
						value=" #{msg['personal.confirmNewPassword']}" />
					<p:password id="cNewPassword" value="#{personalDataBean.password2}"
						disabled="#{personalDataBean.editDisabled}">
						<f:validator validatorId="newPasswordValidator" />
					</p:password>
				</p:panelGrid>
				<p></p>
				<p:panelGrid columns="3"
					styleClass="no-border, no-border, no-border">

					<p:outputLabel for="password" value=" #{msg['personal.password']}" />
					<p:password id="password" value="#{personalDataBean.password}"
						disabled="#{personalDataBean.editDisabled}" for="confirm" required="true">
						<f:validator validatorId="passwordValidator" />
					</p:password>
					<h:commandButton id="confirm"
						value=" #{msg['personal.confirmChanges']}"
						actionListener="#{personalDataBean.confirmChanges}"
						disabled="#{personalDataBean.editDisabled}" />

				</p:panelGrid>
			</center>
			<p></p>
			<h:outputText value=" #{msg['personal.info']}" />
		</h:form>

	</ui:define>

</ui:composition>
